{"version":3,"sources":["firebase.js","services/tutorial.service.js","components/AddTutorial.jsx","components/Tutorial.jsx","components/TutorialsList.jsx","App.js","index.js"],"names":["ENV","process","config","apiKey","API_KEY","authDomain","AUTH_DOMAIN","projectId","PROJECT_ID","storageBucket","STORAGE_BUCKET","messagingSenderId","MESSAGING_SENDER_ID","appId","APP_ID","databaseURL","firebase","initializeApp","db","database","ref","tutorial","push","key","value","child","update","remove","AddTutorial","useState","submitted","setSubmitted","title","setTitle","description","setDescription","className","onClick","htmlFor","type","id","required","onChange","e","target","name","data","published","TutorialDataService","create","then","catch","console","log","Tutorial","refreshList","setPublished","message","setMessage","useEffect","status","delete","TutorialsList","tutorials","setTutorials","currentTutorial","setCurrentTutorial","currentIndex","setCurrentIndex","onDataChange","items","tempTutorials","forEach","item","val","getAll","on","off","map","index","setActiveTutorial","deleteAll","App","to","exact","path","component","TutorialsListHook","AddTutorialHook","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9fca7b6.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst ENV = process.env;\n\nlet config = {\n  apiKey: ENV.API_KEY,\n  authDomain: ENV.AUTH_DOMAIN,\n  projectId: ENV.PROJECT_ID,\n  storageBucket: ENV.STORAGE_BUCKET,\n  messagingSenderId: ENV.MESSAGING_SENDER_ID,\n  appId: ENV.APP_ID,\n  // databaseURL: ENV.TEST,\n  databaseURL:\n    \"https://react-firebase-a4357-default-rtdb.europe-west1.firebasedatabase.app/\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase.database();\n","import firebase from \"../firebase\";\n\nconst db = firebase.ref(\"/tutorials\");\n\nclass TutorialDataService {\n  getAll() {\n    return db;\n  }\n\n  create(tutorial) {\n    return db.push(tutorial);\n  }\n\n  update(key, value) {\n    return db.child(key).update(value);\n  }\n\n  delete(key) {\n    return db.child(key).remove();\n  }\n\n  deleteAll() {\n    return db.remove();\n  }\n}\n\nexport default new TutorialDataService();\n","import React, { useState } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\n\nconst AddTutorial = () => {\n  const [submitted, setSubmitted] = useState(false);\n\n  const [title, setTitle] = useState(\"\");\n\n  const [description, setDescription] = useState(\"\");\n\n  const saveTutorial = () => {\n    let data = {\n      title: title,\n      description: description,\n      published: false,\n    };\n\n    TutorialDataService.create(data)\n      .then(() => setSubmitted(true))\n      .catch((e) => console.log(e));\n  };\n\n  const clearStates = () => {\n    setTitle(\"\");\n    setDescription(\"\");\n    setSubmitted(false);\n  };\n\n  return (\n    <div className=\"submit-form\">\n      {submitted ? (\n        <div>\n          <h4>You submitted successfully!</h4>\n          <button className=\"btn btn-success\" onClick={clearStates}>\n            Add\n          </button>\n        </div>\n      ) : (\n        <div>\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Title</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"title\"\n              required\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              name=\"title\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"description\"\n              required\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              name=\"description\"\n            />\n          </div>\n\n          <button onClick={saveTutorial} className=\"btn btn-success\">\n            Submit\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddTutorial;\n","import React, { useEffect, useState } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\n\nconst Tutorial = ({ tutorial, refreshList }) => {\n  const [title, setTitle] = useState(tutorial.title);\n\n  const [description, setDescription] = useState(tutorial.description);\n\n  const [published, setPublished] = useState(tutorial.published);\n\n  const [message, setMessage] = useState(\"\");\n\n  const updatePublished = (status) => {\n    TutorialDataService.update(tutorial.key, { published: status })\n      .then(() => {\n        setPublished(status);\n        setMessage(\"The status was updated successfully!\");\n      })\n      .catch((e) => console.log(e));\n  };\n\n  const updateTutorial = () => {\n    const data = {\n      title: title,\n      description: description,\n    };\n\n    TutorialDataService.update(tutorial.key, data)\n      .then(() => setMessage(\"The tutorial was updated successfully!\"))\n      .catch((e) => console.log(e));\n  };\n\n  const deleteTutorial = () => {\n    TutorialDataService.delete(tutorial.key)\n      .then(() => refreshList())\n      .catch((e) => console.log(e));\n  };\n\n  useEffect(() => {\n    setTitle(tutorial.title);\n    setPublished(tutorial.published);\n    setDescription(tutorial.description);\n  }, [tutorial]);\n\n  return (\n    <div>\n      <h4>Tutorial</h4>\n      {tutorial ? (\n        <div className=\"edit-form\">\n          <form>\n            <div className=\"form-group\">\n              <label htmlFor=\"title\">Title</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"title\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"description\">Description</label>\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                id=\"description\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>\n                <strong>Status: </strong>\n              </label>\n              {published ? \"Published\" : \"Pending\"}\n            </div>\n          </form>\n\n          <button\n            className=\"badge badge-primary mr-2 btn\"\n            onClick={() => updatePublished(!published)}\n          >\n            {published ? \"UnPublish\" : \"Publish\"}\n          </button>\n\n          <button\n            className=\"badge badge-danger mr-2 btn\"\n            onClick={deleteTutorial}\n          >\n            Delete\n          </button>\n\n          <button\n            type=\"submit\"\n            className=\"badge badge-success btn\"\n            onClick={updateTutorial}\n          >\n            Update\n          </button>\n          <p>{message}</p>\n        </div>\n      ) : (\n        <div>\n          <br />\n          <p>Please click on a Tutorial...</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Tutorial;\n","import React, { useEffect, useState } from \"react\";\nimport TutorialDataService from \"../services/tutorial.service\";\n\nimport Tutorial from \"./Tutorial\";\n\nconst TutorialsList = () => {\n  const [tutorials, setTutorials] = useState([]);\n  const [currentTutorial, setCurrentTutorial] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(-1);\n\n  const onDataChange = (items) => {\n    let tempTutorials = [];\n\n    items.forEach((item) => {\n      let key = item.key;\n      let data = item.val();\n      tempTutorials.push({\n        key: key,\n        title: data.title,\n        description: data.description,\n        published: data.published,\n      });\n    });\n\n    setTutorials(tempTutorials);\n  };\n\n  const setActiveTutorial = (tutorial, index) => {\n    setCurrentTutorial(tutorial);\n    setCurrentIndex(index);\n  };\n\n  const refreshList = () => {\n    setCurrentTutorial(null);\n    setCurrentIndex(-1);\n  };\n\n  const removeAllTutorials = () => {\n    TutorialDataService.deleteAll()\n      .then(() => refreshList())\n      .catch((e) => console.log(e));\n  };\n\n  useEffect(() => {\n    TutorialDataService.getAll().on(\"value\", onDataChange);\n\n    return () => {\n      TutorialDataService.getAll().off(\"value\", onDataChange);\n    };\n  }, []);\n\n  return (\n    <div className=\"list row\">\n      <div className=\"col-md-6\">\n        <h4>Tutorials List</h4>\n\n        <ul className=\"list-group\">\n          {tutorials &&\n            tutorials.map((tutorial, index) => (\n              <li\n                className={\n                  \"list-group-item \" + (index === currentIndex ? \"active\" : \"\")\n                }\n                onClick={() => setActiveTutorial(tutorial, index)}\n                key={index}\n              >\n                {tutorial.title}\n              </li>\n            ))}\n        </ul>\n\n        <button\n          className=\"m-3 btn btn-sm btn-danger\"\n          onClick={removeAllTutorials}\n        >\n          Remove All\n        </button>\n      </div>\n      <div className=\"col-md-6\">\n        {currentTutorial ? (\n          <Tutorial tutorial={currentTutorial} refreshList={refreshList} />\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a Tutorial...</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TutorialsList;\n","import React, { Component } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AddTutorialHook from \"./components/AddTutorial\";\nimport TutorialsListHook from \"./components/TutorialsList\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          <Link to={\"/tutorials\"} className=\"navbar-brand\">\n            olAcademy\n          </Link>\n          <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/tutorials\"} className=\"nav-link\">\n                Tutorials\n              </Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link to={\"/add\"} className=\"nav-link\">\n                Add\n              </Link>\n            </li>\n          </div>\n        </nav>\n\n        <div className=\"container mt-3\">\n          <h2>React Firebase Database CRUD</h2>\n          <Switch>\n            <Route\n              exact\n              path={[\"/\", \"/tutorials\"]}\n              component={TutorialsListHook}\n            />\n            <Route exact path=\"/add\" component={AddTutorialHook} />\n          </Switch>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}